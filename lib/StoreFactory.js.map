{"version":3,"sources":["../src/StoreFactory.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;IAEqB;AACnB,WADmB,YACnB,CAAY,OAAZ,EAAqB;wCADF,cACE;;AACnB,SAAK,WAAL,GAAmB,QAAQ,WAAR,IAAuB,EAAvB,CADA;AAEnB,SAAK,QAAL,GAAgB,QAAQ,QAAR,CAFG;AAGnB,SAAK,QAAL,GAAgB,QAAQ,QAAR,CAHG;AAInB,SAAK,QAAL,GAAgB,QAAQ,QAAR,CAJG;AAKnB,SAAK,WAAL,GAAmB,QAAQ,WAAR,CALA;AAMnB,SAAK,QAAL,GANmB;GAArB;;AADmB,yBAUnB,+BAAW;AACT,QAAI,CAAC,KAAK,QAAL,EAAe;AAClB,YAAM,IAAI,KAAJ,CAAU,0DAAV,CAAN,CADkB;KAApB;;;AAXiB,yBAgBnB,qCAAiD;QAArC,qEAAe,kBAAsB;QAAlB,oEAAc,kBAAI;;AAC/C,QAAI,yBAAJ,CAD+C;AAE/C,QAAM,oBAAoB,wCAAmB,mBAAgB,KAAK,WAAL,CAAnC,CAApB,CAFyC;;AAI/C,QAAI,KAAK,WAAL,IAAoB,KAAK,QAAL,EAAe;AACrC,yBAAmB,iCACjB,0BACG,KAAK,QAAL,CAAc,SAAd,GAFc,qBAAnB,CADqC;KAAvC,MAKO;AACL,yBAAmB,qCAAnB,CADK;KALP;;AASA,QAAM,QAAQ,iBAAiB,KAAK,QAAL,EAAe,YAAhC,CAAR,CAbyC;;AAe/C,QAAI,KAAK,QAAL,EAAe;AACjB,WAAK,QAAL,CAAc,KAAd,EADiB;KAAnB;;AAIA,WAAO,KAAP,CAnB+C;;;SAhB9B","file":"StoreFactory.js","sourcesContent":["import { applyMiddleware, compose, createStore } from 'redux';\n\nexport default class StoreFactory {\n  constructor(options) {\n    this.middlewares = options.middlewares || [];\n    this.reducers = options.reducers;\n    this.reloader = options.reloader;\n    this.devTools = options.devTools;\n    this.useDevTools = options.useDevTools;\n    this.validate();\n  }\n\n  validate() {\n    if (!this.reducers) {\n      throw new Error('A reducers is empty. Please check your config arguments.');\n    }\n  }\n\n  createStore(initialState = {}, middlewares = []) {\n    let finalCreateStore;\n    const appliedMiddleware = applyMiddleware(...middlewares, ...this.middlewares);\n\n    if (this.useDevTools && this.devTools) {\n      finalCreateStore = compose(\n        appliedMiddleware,\n        ...this.devTools.composers()\n      )(createStore);\n    } else {\n      finalCreateStore = appliedMiddleware(createStore);\n    }\n\n    const store = finalCreateStore(this.reducers, initialState);\n\n    if (this.reloader) {\n      this.reloader(store);\n    }\n\n    return store;\n  }\n}\n"]}