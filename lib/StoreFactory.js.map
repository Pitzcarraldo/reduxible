{"version":3,"sources":["../src/StoreFactory.js"],"names":[],"mappings":";;;;;;;;;AAAA;;;;IAEqB;AACnB,WADmB,YACnB,CAAY,OAAZ,EAAqB;2CADF,cACE;;AACnB,SAAK,WAAL,GAAmB,QAAQ,WAAR,IAAuB,EAAvB,CADA;AAEnB,SAAK,QAAL,GAAgB,QAAQ,QAAR,CAFG;AAGnB,SAAK,QAAL,GAAgB,QAAQ,QAAR,CAHG;AAInB,SAAK,QAAL,GAAgB,QAAQ,QAAR,CAJG;AAKnB,SAAK,WAAL,GAAmB,QAAQ,WAAR,CALA;AAMnB,SAAK,QAAL,GANmB;GAArB;;AADmB,yBAUnB;wBAAW;AACT,UAAI,CAAC,KAAK,QAAL,EAAe;AAClB,cAAM,IAAI,KAAJ,CAAU,0DAAV,CAAN,CADkB;OAApB;;;;;;AAXiB,yBAgBnB;2BAA+C;UAAnC,qEAAe,kBAAoB;;AAC7C,UAAI,yBAAJ,CAD6C;;wCAAb;;OAAa;;AAE7C,UAAM,oBAAoB,wCAAmB,mBAAgB,KAAK,WAAL,CAAnC,CAApB,CAFuC;;AAI7C,UAAI,KAAK,WAAL,IAAoB,KAAK,QAAL,EAAe;AACrC,2BAAmB,iCACjB,0BACG,KAAK,QAAL,CAAc,SAAd,GAFc,qBAAnB,CADqC;OAAvC,MAKO;AACL,2BAAmB,qCAAnB,CADK;OALP;;AASA,UAAM,QAAQ,iBAAiB,KAAK,QAAL,EAAe,YAAhC,CAAR,CAbuC;;AAe7C,UAAI,KAAK,QAAL,EAAe;AACjB,aAAK,QAAL,CAAc,KAAd,EADiB;OAAnB;AAGA,aAAO,KAAP,CAlB6C;;;;;;SAhB5B","file":"StoreFactory.js","sourcesContent":["import { applyMiddleware, compose, createStore } from 'redux';\n\nexport default class StoreFactory {\n  constructor(options) {\n    this.middlewares = options.middlewares || [];\n    this.reducers = options.reducers;\n    this.reloader = options.reloader;\n    this.devTools = options.devTools;\n    this.useDevTools = options.useDevTools;\n    this.validate();\n  }\n\n  validate() {\n    if (!this.reducers) {\n      throw new Error('A reducers is empty. Please check your config arguments.');\n    }\n  }\n\n  createStore(initialState = {}, ...middlewares) {\n    let finalCreateStore;\n    const appliedMiddleware = applyMiddleware(...middlewares, ...this.middlewares);\n\n    if (this.useDevTools && this.devTools) {\n      finalCreateStore = compose(\n        appliedMiddleware,\n        ...this.devTools.composers()\n      )(createStore);\n    } else {\n      finalCreateStore = appliedMiddleware(createStore);\n    }\n\n    const store = finalCreateStore(this.reducers, initialState);\n\n    if (this.reloader) {\n      this.reloader(store);\n    }\n    return store;\n  }\n}\n"]}